<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Device Info Gatherer</title>
</head>
<body>
  <h1>Welcome to my website!</h1>
  <h2>Device Information:</h2>
  <p id="info"></p> <!-- This is where the info will be printed -->

  <script>


// Declare global variables
var deviceType, browser, country, ip;

  // Device Info
function getDeviceInfo() {
  var userAgent = navigator.userAgent;
  var deviceType = /Mobi|Tablet|iPad|iPhone/.test(userAgent) ? 'Mobile' : 'Desktop';

  // Browser detection
  var browser = (function () {
  if (userAgent.indexOf("Opera") > -1 || userAgent.indexOf("OPR") > -1) return "Opera";
  if (userAgent.indexOf("Chrome") > -1 && userAgent.indexOf("OPR") === -1) return "Chrome";
  if (userAgent.indexOf("Safari") > -1 && userAgent.indexOf("Chrome") === -1) return "Safari";
  if (userAgent.indexOf("Firefox") > -1) return "Firefox";
  if (userAgent.indexOf("Edge") > -1) return "Edge";
    return "Unknown Browser";
  })();

  return {
  deviceType: deviceType,
  browser: browser
  };
}

// Get country and display everything
function getCountryInfo() {
  fetch('https://ipapi.co/json/')  // Free IP Geolocation API
  .then(response => response.json())
  .then(data => {
    var country = data.country_name;
    var ip = data.ip;

  // Combine device info and country info
  var deviceInfo = getDeviceInfo();
  deviceInfo['country'] = country;
  deviceInfo['ip'] = ip;

  // Create variables
  var deviceType = deviceInfo.deviceType;
  var browser = deviceInfo.browser;
  var country = deviceInfo.country;
  var ip = deviceInfo.ip;

// Print the info on the page
  document.getElementById("info").innerText = 
  `Device Type: ${deviceType}\n` +
  `Browser: ${browser}\n` +
  `Country: ${country}\n` +
  `IP Address: ${ip}`;
  })
  .catch(error => console.error('Error fetching country info:', error));
}
// Run on page load
window.addEventListener("DOMContentLoaded", function() {
  getCountryInfo();
});

  </script>
</body>
</html>
